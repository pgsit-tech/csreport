# ä¸šåŠ¡å‘˜è§å®¢æŠ¥å‘Šç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Next.js + Cloudflare æŠ€æœ¯æ ˆçš„å®¢æˆ·æ‹œè®¿æŠ¥å‘Šç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒè¡¨å•åˆ›å»ºã€PDFå¯¼å‡ºã€é‚®ä»¶å‘é€å’Œæ•°æ®ç®¡ç†åŠŸèƒ½ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

- âœ… **è¡¨å•ç®¡ç†**: åˆ›å»ºå’Œç¼–è¾‘å®¢æˆ·æ‹œè®¿æŠ¥å‘Š
- âœ… **æŸ¥è¯¢ç³»ç»Ÿ**: æ”¯æŒéšæœºç”Ÿæˆå’Œè‡ªå®šä¹‰æŸ¥è¯¢ç 
- âœ… **PDFå¯¼å‡º**: ä¸€é”®ç”Ÿæˆä¸“ä¸šæ ¼å¼çš„PDFæŠ¥å‘Š
- âœ… **é‚®ä»¶å‘é€**: è‡ªåŠ¨å‘é€æŠ¥å‘Šåˆ°æŒ‡å®šé‚®ç®±
- âœ… **æ•°æ®ç®¡ç†**: åå°ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒæ•°æ®å¯¼å‡º
- âœ… **å“åº”å¼è®¾è®¡**: æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- âœ… **äº‘ç«¯éƒ¨ç½²**: åŸºäºCloudflareçš„æ— æœåŠ¡å™¨æ¶æ„

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯
- **Next.js 15**: Reactæ¡†æ¶ï¼Œæ”¯æŒé™æ€å¯¼å‡º
- **TypeScript**: ç±»å‹å®‰å…¨çš„JavaScript
- **Tailwind CSS**: å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **React Hook Form**: è¡¨å•çŠ¶æ€ç®¡ç†
- **Zod**: æ•°æ®éªŒè¯
- **jsPDF + html2canvas**: PDFç”Ÿæˆ
- **Lucide React**: å›¾æ ‡åº“

### åç«¯
- **Cloudflare Worker**: æ— æœåŠ¡å™¨è®¡ç®—å¹³å°
- **Hono**: è½»é‡çº§Webæ¡†æ¶
- **Cloudflare D1**: SQLiteæ•°æ®åº“
- **Cloudflare Pages**: é™æ€ç½‘ç«™æ‰˜ç®¡

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
cs-report-system/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ app/               # Next.js App Router
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”œâ”€â”€ lib/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ worker/               # Cloudflare Worker
â”‚   â”œâ”€â”€ src/             # Workeræºç 
â”‚   â””â”€â”€ wrangler.toml    # Workeré…ç½®
â”œâ”€â”€ .github/             # GitHub Actions
â”œâ”€â”€ schema.sql           # æ•°æ®åº“ç»“æ„
â””â”€â”€ deploy.sh           # éƒ¨ç½²è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- Cloudflare è´¦æˆ·
- Wrangler CLI

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd cs-report-system
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

4. **å¯åŠ¨Workerå¼€å‘ç¯å¢ƒ**
```bash
cd worker
npm install
npm run dev
```

### éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

1. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®
```

2. **è¿è¡Œéƒ¨ç½²è„šæœ¬**
```bash
chmod +x deploy.sh
./deploy.sh
```

3. **æˆ–ä½¿ç”¨GitHub Actionsè‡ªåŠ¨éƒ¨ç½²**
   - åœ¨GitHubä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹Secrets:
     - `CLOUDFLARE_API_TOKEN`
     - `CLOUDFLARE_ACCOUNT_ID`
   - æ¨é€ä»£ç åˆ°mainåˆ†æ”¯å³å¯è‡ªåŠ¨éƒ¨ç½²

## ğŸ“‹ è¯¦ç»†éƒ¨ç½²æŒ‡å—

### 1. åˆ›å»ºCloudflareèµ„æº

#### åˆ›å»ºD1æ•°æ®åº“
```bash
cd worker
wrangler d1 create cs-report-db
```

#### è¿è¡Œæ•°æ®åº“è¿ç§»
```bash
wrangler d1 execute cs-report-db --file=../schema.sql
```

### 2. é…ç½®Worker

ç¼–è¾‘ `worker/wrangler.toml`ï¼Œæ›´æ–°ä»¥ä¸‹é…ç½®ï¼š
- `database_id`: æ›¿æ¢ä¸ºä½ çš„D1æ•°æ®åº“ID
- `zone_name`: æ›¿æ¢ä¸ºä½ çš„åŸŸå
- `pattern`: æ›¿æ¢ä¸ºä½ çš„APIè·¯ç”±æ¨¡å¼

### 3. è®¾ç½®ç¯å¢ƒå˜é‡

```bash
cd worker
wrangler secret put EMAIL_API_KEY
# è¾“å…¥ä½ çš„é‚®ä»¶æœåŠ¡APIå¯†é’¥
```

### 4. éƒ¨ç½²Worker

```bash
wrangler deploy
```

### 5. æ„å»ºå’Œéƒ¨ç½²å‰ç«¯

```bash
npm run build
wrangler pages deploy out --project-name=cs-report-system
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### åˆ›å»ºæŠ¥å‘Š
1. è®¿é—®ç³»ç»Ÿé¦–é¡µ
2. ç‚¹å‡»"æ–°å»ºæŠ¥å‘Š"
3. å¡«å†™è¡¨å•ä¿¡æ¯
4. å¯é€‰æ‹©è‡ªå®šä¹‰æŸ¥è¯¢ç 
5. ç‚¹å‡»"ä¿å­˜è¡¨å•"

### æŸ¥è¯¢æŠ¥å‘Š
1. ç‚¹å‡»"æŸ¥è¯¢æŠ¥å‘Š"
2. è¾“å…¥æŸ¥è¯¢ç 
3. ç‚¹å‡»"æŸ¥è¯¢"æŸ¥çœ‹ç»“æœ

### å¯¼å‡ºPDF
1. åœ¨è¡¨å•é¡µé¢ç‚¹å‡»"å¯¼å‡ºPDF"
2. ç³»ç»Ÿè‡ªåŠ¨ç”ŸæˆPDFæ–‡ä»¶
3. æ–‡ä»¶åæ ¼å¼ï¼š`å…¬å¸åç§°_æ—¥æœŸ.pdf`

### å‘é€é‚®ä»¶
1. åœ¨è¡¨å•é¡µé¢ç‚¹å‡»"å‘é€é‚®ä»¶"
2. è¾“å…¥æ”¶ä»¶äººé‚®ç®±
3. ç³»ç»Ÿè‡ªåŠ¨å‘é€åŒ…å«PDFé™„ä»¶çš„é‚®ä»¶

### ç®¡ç†åå°
1. è®¿é—® `/admin` é¡µé¢
2. æŸ¥çœ‹æ‰€æœ‰è¡¨å•è®°å½•
3. æ”¯æŒæœç´¢å’Œç­›é€‰
4. å¯å¯¼å‡ºExcelæ ¼å¼æ•°æ®

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åˆ›å»º Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
